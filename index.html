<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hangman Game</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        text-align: center;
        margin: 20px;
        color: white;
      }
      #game-container {
        background-color: rgb(121, 121, 121);
        max-width: 600px;
        margin: 0 auto;
        padding: 20px;
        border: 1px solid #ccc;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }
      #word-display {
        font-size: 24px;
        letter-spacing: 5px;
        margin-bottom: 20px;
      }
      #feedback {
        color: rgb(105, 0, 0);
        font-weight: bold;
        font-size: 22px;
      }
      #hangman-canvas {
        margin: 20px auto;
        display: block;
        border: 1px solid #ccc;
        background: #f9f9f9;
      }
      
    </style>
  </head>
  <body>
    <div id="game-container">
      <h1>Hangman Game</h1>
      <canvas id="hangman-canvas" width="200" height="250"></canvas>
      <p id="word-display">_ _ _ _ _</p>
      <p id="attempts-display">Attempts left: 6</p>
      <p id="guessed-letters-display">Guessed letters: None yet.</p>
      <input
        type="text"
        id="letter-input"
        maxlength="1"
        placeholder="Enter a letter"
      />
      <button id="guess-button">Guess</button>
      <p id="feedback"></p>
    </div>
    <script>
      // Hangman Game Implementation in JavaScript

      // List of words for the game
      const words = [
        "javascript",
        "hangman",
        "developer",
        "programming",
        "algorithm",
      ];

      // Draw the hangman on the canvas step by step
      const drawFunctions = [
        (ctx) => {
          ctx.beginPath();
          ctx.arc(100, 50, 20, 0, Math.PI * 2);
          ctx.stroke();
        }, // Head
        (ctx) => {
          ctx.beginPath();
          ctx.moveTo(100, 70);
          ctx.lineTo(100, 150);
          ctx.stroke();
        }, // Body
        (ctx) => {
          ctx.beginPath();
          ctx.moveTo(100, 90);
          ctx.lineTo(70, 120);
          ctx.stroke();
        }, // Left arm
        (ctx) => {
          ctx.beginPath();
          ctx.moveTo(100, 90);
          ctx.lineTo(130, 120);
          ctx.stroke();
        }, // Right arm
        (ctx) => {
          ctx.beginPath();
          ctx.moveTo(100, 150);
          ctx.lineTo(70, 200);
          ctx.stroke();
        }, // Left leg
        (ctx) => {
          ctx.beginPath();
          ctx.moveTo(100, 150);
          ctx.lineTo(130, 200);
          ctx.stroke();
        }, // Right leg
      ];

      // Function to pick a random word
      function pickRandomWord() {
        return words[Math.floor(Math.random() * words.length)];
      }

      // Function to initialize the game
      function startGame() {
        const word = pickRandomWord();
        const wordArray = word.split("");
        let guessedWord = Array(word.length).fill("_");
        let attempts = 6; // Maximum wrong attempts
        let guessedLetters = [];

        const wordDisplay = document.getElementById("word-display");
        const attemptsDisplay = document.getElementById("attempts-display");
        const guessedLettersDisplay = document.getElementById(
          "guessed-letters-display"
        );
        const inputField = document.getElementById("letter-input");
        const feedback = document.getElementById("feedback");
        const canvas = document.getElementById("hangman-canvas");
        const ctx = canvas.getContext("2d");

        ctx.clearRect(0, 0, canvas.width, canvas.height); // Clear the canvas for a new game
        ctx.beginPath(); // Base
        ctx.moveTo(10, 290);
        ctx.lineTo(190, 290);
        ctx.moveTo(50, 290);
        ctx.lineTo(50, 10);
        ctx.lineTo(100, 10);
        ctx.lineTo(100, 30);
        ctx.stroke();

        wordDisplay.textContent = guessedWord.join(" ");
        attemptsDisplay.textContent = `Attempts left: ${attempts}`;
        guessedLettersDisplay.textContent = "Guessed letters: None yet.";
        feedback.textContent = "";

        function handleGuess() {
          const guess = inputField.value.toLowerCase();
          inputField.value = "";

          if (!guess || guess.length !== 1 || !/[a-z]/.test(guess)) {
            feedback.textContent =
              "Invalid input. Please guess a single letter.";
            return;
          }

          if (guessedLetters.includes(guess)) {
            feedback.textContent =
              "You already guessed that letter. Try again.";
            return;
          }

          guessedLetters.push(guess);
          guessedLettersDisplay.textContent = `Guessed letters: ${guessedLetters.join(
            ", "
          )}`;

          if (wordArray.includes(guess)) {
            feedback.textContent = "Good guess!";
            wordArray.forEach((letter, index) => {
              if (letter === guess) {
                guessedWord[index] = guess;
              }
            });
            wordDisplay.textContent = guessedWord.join(" ");
          } else {
            feedback.textContent = "Wrong guess.";
            drawFunctions[6 - attempts](ctx); // Draw the next part of the hangman
            attempts--;
            attemptsDisplay.textContent = `Attempts left: ${attempts}`;
          }

          if (!guessedWord.includes("_")) {
            feedback.textContent = `Congratulations! You guessed the word: ${word}`;
            inputField.disabled = true;
            document.getElementById("guess-button").disabled = true;
          } else if (attempts === 0) {
            feedback.textContent = `Game over! The word was: ${word}`;
            inputField.disabled = true;
            document.getElementById("guess-button").disabled = true;
          }
        }

        document.getElementById("guess-button").onclick = handleGuess;
        inputField.disabled = false;
        document.getElementById("guess-button").disabled = false;
      }

      document.addEventListener("DOMContentLoaded", () => startGame());
    </script>
  </body>
</html>
